<meta charset=utf-8><script>
obstacles = [pos = frame = score = obstacle = 0];
for(i = 0; i < 999; i++) obstacles.push(4*Math.random()|1);
onkeyup = function(e){
    if(e.keyCode == 38 && pos > 0) pos--;
    if(e.keyCode == 40 && pos < 3) pos++;
}
s = setInterval(function(){

	// obstacle
	if(frame > 3 && !(frame % 30)){
    
		// pass
		if(obstacles[obstacle++] == pos){
			prefix = "⡇";
			score++;
		}
        
		// fail
		else {
			clearInterval(s);
			alert("☠" + score);
		}
	}
    
	// no obstacle
	else prefix = "⠁⠂⠄⡀"[pos];
    
	// draw current frame
	suffix = "";
	for(i = 0; i < 999; i++) suffix += "  " + "⡆⡅⡃⠇"[obstacles[i]];
    history.replaceState(0,0,"# "+(prefix + suffix.slice(frame++ / 10)).slice(0,99));
}, 30);
</script>
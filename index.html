<meta charset=utf-8><script>
obstacles = [pos = frame = score = obstacle = 0];
for(i = 0; i < 999; i++) obstacles.push(4 * Math.random() | 0);
onkeyup = function(e){
    pos += e.keyCode - 39;
    if(pos < 0) pos = 0;
    if(pos > 3) pos = 3;
}
s = setInterval(function(){

	// obstacle
	if(frame > 3 && !(frame % 30)){
    
		// pass
		if(obstacles[obstacle++] == pos){
			prefix = "⡇";
			score++;
		}
        
		// fail
		else {
			clearInterval(s);
			alert("☠" + score);
		}
	}
    
	// no obstacle
	else prefix = "⠁⠂⠄⡀"[pos];
    
	// draw current frame
	suffix = "";
	for(i = 0; i < 999; i++) suffix += "  " + "⡆⡅⡃⠇"[obstacles[i]];
    history.replaceState(0,0,"# "+(prefix + suffix.slice(frame++ / 10)).slice(0,99));
}, 30);
</script>